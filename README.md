## Vue.js APP

**Цель:** изучить работу с компонентами во Vue.js, SFC, передача данных от родительского компонента, дочернему и обратно, этапы жизненного цикла компонента.

## Содержание и порядок выполнения лабораторной работы:

1. Установить node.js, если этого не было сделано в прошлом семестре.
1. Принять задание в Github Classroom https://classroom.github.com/a/B1fj8fjV. Будет просматриваться история коммитов и текст сообщений коммитов на понятность.
1. Повторить работу с запросами и ответами. Изучить работу с server-sent events. А также использование компонентов во Vue и принципы работы с ними.
1. Создать новый проект `npm init vue@latest`.
1. Ответить на вопросы о создании проекта. В целом можете везде ответить нет.
1. Выполнить команды `npm install`, `npm run dev` для запуска сервера разработки.
1. Изучить описание API - http://slavaver.space/api/
1. Продумать и реализовать компоненты для добавления и отображения комментариев.
1. Собрать проект с помощью команды `npm run build` и файлы из созданной папки `dist` перенести на сервер.

### Логика работы элементов приложения

#### Максимальный функционал

##### Добавление комментария

1. Есть форма, которая позволяет добавить новый комментарий. Для нового комментария указывается имя, текст ответа и реакция (положительный -1, нейтральный 0 - вариант по умолчанию, негативный 1).
1. Форма отображается если нажать на кнопку "создать новый комментарий" или "ответить" под другим комментарием. От этого зависит будете ли вы передавать parendId.
1. Валидация пользовательского ввода, так как поля обязательные для заполнения и блокировка кнопки, на время ожидания ответа от сервера.
1. При отправке запроса требуется добавить заголовок `Username`, а в значении передать ваш ник на Github.

<figure style="border: 1px solid grey; border-radius: 10px; padding: 1em; width: 100%; margin-inline: auto;">
<img src="https://slavaver.github.io/web-course-site/comment.jpg" alt="пример формы" style="margin: 0 auto;">
<figcaption style="text-align: center">Пример формы</figcaption>
</figure>

##### Отображение комментариев

1. На странице есть переключатель, от состояния которого зависит получаете ли вы новые комментарии в реальном времени или нет.
1. При запуске приложения в браузере вы получаете список комментариев и подписываетесь на обновления с сервера для получение новых комментариев в реальном времени.
1. Комментарии отрисовываются с учетом их вложенности, так как один комментарий может быть ответом на другой это определяется по полю parentId.
1. Есть счетчик указывающий общее число комментариев.
1. На родительском комментарии указывается количество ответов, если ответов нет, то ничего не показывается. 1. Цвет фона родительского комментария зависит от суммы реакций в ответах на него. Если отрицательная сумма, то например красный, если положительная, то зеленый.
1. Указывается время и дата создания комментариев. Сами комментарии отображаются от старых к новым, то есть сверху старые комментарии.

<figure style="border: 1px solid grey; border-radius: 10px; padding: 1em; width: 90%; margin-inline: auto;">
<img src="https://slavaver.github.io/web-course-site/show-comments.jpg" alt="пример комментариев" style="margin: 0 auto;">
<figcaption style="text-align: center">Пример отображения комментариев</figcaption>
</figure>

#### Что можно упростить

Упрощения сказываются на максимальном бале за практическую часть.

1. Отказаться от получения комментариев в реальном времени. В этом случае получаете новый список комментариев, после отправки нового.
1. Отказаться от вложенности комментариев.
1. Отказаться от отображения цвета комментария.
1. Отказаться от счетчика ответов.
1. Отказаться от валидации.

### Критерии

1. RWD от 375px до 2560px, mobile-first.
1. Доступность: цвета, доступ с клавиатуры, предсказуемость, текстовый контент и т.д.
1. БЭМ
1. Внешний вид: отступы, выравнивание, пропорции.
1. SVG для иконок.

### Результаты выполнения лабораторной работы:

Статическая веб-страница на хостинге проверенная, со структурой и оформлением, которая соответствует требованиям и сохранена в системе контроля версий.

## Источники

- [Кратко о компонентах](https://vuejs.org/guide/essentials/component-basics.html)
- [Официальное руководство Vue на русском](https://v3.ru.vuejs.org/ru/guide/introduction.html)
- [MDN: Intl](https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/Intl)
- [Doka: Date + Intl](https://doka.guide/js/date/)
- [server-sent events](https://developer.mozilla.org/ru/docs/Web/API/Server-sent_events/Using_server-sent_events)
- [EventSource](https://developer.mozilla.org/en-US/docs/Web/API/EventSource)
- [Vue recursive component](https://blog.logrocket.com/rendering-nested-comments-recursive-components-vue/)
- [Creating a Recursive Tree Component in Vue.js](https://www.digitalocean.com/community/tutorials/vuejs-recursive-components)

## Вопросы для защиты

1. Как создать новое Vue приложение.
1. Что такое SFC. Из чего состоит.
1. Как создать и подключить компонент.
1. Этапы жизненного цикла компонента.
1. На каком этапе стоит получать данные и почему.
1. Как передавать информацию между компонентами.
1. Пользовательские события и их обработка.
1. Slot и их использование.
1. Что такое server-sent events.
1. Использование EventSource.

и остальные из всего курса за текущий семестр.
